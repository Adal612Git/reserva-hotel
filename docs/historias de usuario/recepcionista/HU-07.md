# HU-07: Ver reservas del dÃ­a

---

## ğŸ“ Historia de Usuario

**Como** recepcionista del hotel,  
**quiero** visualizar una lista con las reservas programadas para la fecha actual,  
**para** preparar el check-in de los clientes y gestionar la operaciÃ³n diaria del hotel.

---

## ğŸ“Œ Estatus  
âœ… Pendiente de desarrollo

---

## ğŸ¯ PriorizaciÃ³n  
Alta â€” Es la funciÃ³n principal del rol del recepcionista en la operaciÃ³n diaria.

---

## ğŸ‘¤ Actor Principal  
Recepcionista (usuario con sesiÃ³n activa y rol autorizado)

---

## ğŸ”— RelaciÃ³n con otras historias de usuario

- **HU-02**: Login de Cliente (para acceder al sistema)
- **HU-03**: Crear nueva reserva (fuente de datos)
- **HU-14**: Buscar reservas por nombre o nÃºmero de habitaciÃ³n
- **HU-15**: Ver disponibilidad general por fecha
- (Futura) HU-19: Marcar reserva como atendida

---

## ğŸ§± Requisitos Previos / Dependencias TÃ©cnicas

- Sistema de roles y autenticaciÃ³n funcionando (HT-03, HT-04)
- Endpoint `/api/reservas/dia` que devuelva reservas para la fecha actual
- Middleware de autorizaciÃ³n por rol â€œrecepcionistaâ€
- RelaciÃ³n correcta entre reservas, habitaciones y clientes en base de datos
- Componente visual tipo tabla en frontend

---

## âœ… Criterios de AceptaciÃ³n

### ğŸ¯ Criterio 1: Acceso restringido
- [ ] Solo recepcionistas autenticados pueden acceder a esta funcionalidad.
- [ ] Si accede un usuario no autorizado, debe recibir error 403 o ser redirigido.

### ğŸ¯ Criterio 2: Filtro por fecha actual
- [ ] El sistema debe mostrar todas las reservas cuya `fecha_inicio` sea igual al dÃ­a de consulta.
- [ ] Debe incluir reservas activas Ãºnicamente (no canceladas).

### ğŸ¯ Criterio 3: InformaciÃ³n mostrada
- [ ] Cada entrada debe mostrar:
  - Nombre completo del cliente
  - NÃºmero de habitaciÃ³n
  - NÃºmero de personas
  - Hora estimada de llegada (si existe)
  - Estado de la reserva (activa / cancelada / atendida)
  - (Opcional) Notas o solicitudes especiales

---

## ğŸ”„ Flujo BÃ¡sico

1. Recepcionista inicia sesiÃ³n y accede a su panel.
2. El sistema hace una peticiÃ³n `GET /api/reservas/dia`.
3. El backend filtra las reservas cuya `fecha_inicio = CURRENT_DATE` y estado = "activa".
4. El frontend muestra la lista con formato tabla, ordenada por hora o nÃºmero de habitaciÃ³n.

---

## ğŸ“‰ Flujos Alternativos

### âŒ Sin reservas programadas
- Mostrar mensaje claro:
  > â€œNo hay reservas programadas para hoyâ€

### âŒ Recepcionista no autenticado
- Responder con error 401 o redirigir a login

### âŒ Usuario sin permisos
- Mostrar error 403 o mensaje:
  > â€œNo tienes permisos para acceder a esta secciÃ³nâ€

---

## ğŸ”’ Validaciones de Seguridad

- Middleware por rol en backend (solo "recepcionista" o "admin")
- El frontend debe ocultar la opciÃ³n en el menÃº para roles no autorizados
- Evitar mostrar datos sensibles del cliente (como correo o telÃ©fono) si no es necesario

---

## ğŸ§ª Escenarios de prueba

### âœ”ï¸ VisualizaciÃ³n correcta
```gherkin
Dado que hoy hay 3 reservas activas con check-in programado
Y el recepcionista accede a su panel
Entonces debe ver una lista con nombre, habitaciÃ³n y personas por reserva
